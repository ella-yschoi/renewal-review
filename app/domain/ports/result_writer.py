from datetime import datetime
from typing import Protocol

from app.domain.models.review import ReviewResult


class ResultWriter(Protocol):
    def save_rule_result(self, job_id: str, result: ReviewResult) -> None: ...
    def save_llm_result(self, job_id: str, result: ReviewResult) -> None: ...
    def update_broker_contacted(self, policy_number: str, value: bool) -> None: ...
    def update_quote_generated(self, policy_number: str, value: bool) -> None: ...
    def update_reviewed_at(self, policy_number: str, value: datetime) -> None: ...
    def load_latest_results(self) -> list[dict]: ...
    def load_latest_llm_results(self) -> list[dict]: ...
